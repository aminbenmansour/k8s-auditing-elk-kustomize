nameOverride: "filebeat-kubelet"
filebeatConfig:
  filebeat.yml: |
    filebeat.inputs:
    - type: log
      paths:
        - /var/log/kubelet.log
        - /var/log/kubernetes/kubelet.log
        - /var/log/syslog
      include_lines: ['kubelet']
      fields:
        logtype: kubelet
        service: kubelet
      fields_under_root: true

    output.logstash:
      hosts: ["logstash-logstash:5044"]

    logging.level: info

daemonset:
  extraVolumes:
    - name: varlog
      hostPath:
        path: /var/log
  extraVolumeMounts:
    - name: varlog
      mountPath: /var/log
      readOnly: true
